{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from 'axios';\nvar GET_USER = 'GET_USER';\nvar REMOVE_USER = 'REMOVE_USER';\n\nvar getUser = function getUser(user) {\n  return {\n    type: GET_USER,\n    user: user\n  };\n};\n\nvar removeUser = function removeUser() {\n  return {\n    type: REMOVE_USER\n  };\n};\n\nvar defaultUser = {};\nexport var loginAuth = function loginAuth(email, password) {\n  return function _callee(dispatch) {\n    var _ref, data;\n\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(axios.post('https://shelter-in-pets-server.herokuapp.com/auth/login', {\n              email: email,\n              password: password\n            }));\n\n          case 3:\n            _ref = _context.sent;\n            data = _ref.data;\n            dispatch(getUser(data));\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            return _context.abrupt(\"return\", dispatch(getUser({\n              error: _context.t0\n            })));\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n};\nexport var signupAuth = function signupAuth(email, password, zipcode) {\n  return function _callee2(dispatch) {\n    var _ref2, data;\n\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(axios.post('https://shelter-in-pets-server.herokuapp.com/auth/signup', {\n              email: email,\n              password: password,\n              zipcode: zipcode\n            }));\n\n          case 3:\n            _ref2 = _context2.sent;\n            data = _ref2.data;\n            dispatch(getUser(data));\n            _context2.next = 11;\n            break;\n\n          case 8:\n            _context2.prev = 8;\n            _context2.t0 = _context2[\"catch\"](0);\n            return _context2.abrupt(\"return\", dispatch(getUser({\n              error: _context2.t0\n            })));\n\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n};\nexport var logout = function logout() {\n  return function _callee3(dispatch) {\n    return _regeneratorRuntime.async(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(axios.post('https://shelter-in-pets-server.herokuapp.com/auth/logout'));\n\n          case 3:\n            dispatch(removeUser());\n            _context3.next = 9;\n            break;\n\n          case 6:\n            _context3.prev = 6;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.error(_context3.t0);\n\n          case 9:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 6]], Promise);\n  };\n};\nexport default function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultUser;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_USER:\n      return action.user;\n\n    case REMOVE_USER:\n      return defaultUser;\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/angelavuong/Senior/Capstone/shelter-in-pets/client/store/user.js"],"names":["axios","GET_USER","REMOVE_USER","getUser","user","type","removeUser","defaultUser","loginAuth","email","password","dispatch","post","data","error","signupAuth","zipcode","logout","console","state","action"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,IAAMC,QAAQ,GAAG,UAAjB;AACA,IAAMC,WAAW,GAAG,aAApB;;AAGA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAAAC,IAAI;AAAA,SAAK;AAAEC,IAAAA,IAAI,EAAEJ,QAAR;AAAkBG,IAAAA,IAAI,EAAJA;AAAlB,GAAL;AAAA,CAApB;;AACA,IAAME,UAAU,GAAG,SAAbA,UAAa;AAAA,SAAO;AAAED,IAAAA,IAAI,EAAEH;AAAR,GAAP;AAAA,CAAnB;;AAGA,IAAMK,WAAW,GAAG,EAApB;AAGA,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,KAAD,EAAQC,QAAR;AAAA,SAAqB,iBAAMC,QAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEnBX,KAAK,CAACY,IAAN,CACrB,yDADqB,EAErB;AACEH,cAAAA,KAAK,EAALA,KADF;AAEEC,cAAAA,QAAQ,EAARA;AAFF,aAFqB,CAFmB;;AAAA;AAAA;AAElCG,YAAAA,IAFkC,QAElCA,IAFkC;AAS1CF,YAAAA,QAAQ,CAACR,OAAO,CAACU,IAAD,CAAR,CAAR;AAT0C;AAAA;;AAAA;AAAA;AAAA;AAAA,6CAWnCF,QAAQ,CAACR,OAAO,CAAC;AAAEW,cAAAA,KAAK;AAAP,aAAD,CAAR,CAX2B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAArB;AAAA,CAAlB;AAiBP,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACN,KAAD,EAAQC,QAAR,EAAkBM,OAAlB;AAAA,SAA8B,kBAAML,QAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAE7BX,KAAK,CAACY,IAAN,CACrB,0DADqB,EAErB;AACEH,cAAAA,KAAK,EAALA,KADF;AAEEC,cAAAA,QAAQ,EAARA,QAFF;AAGEM,cAAAA,OAAO,EAAPA;AAHF,aAFqB,CAF6B;;AAAA;AAAA;AAE5CH,YAAAA,IAF4C,SAE5CA,IAF4C;AAUpDF,YAAAA,QAAQ,CAACR,OAAO,CAACU,IAAD,CAAR,CAAR;AAVoD;AAAA;;AAAA;AAAA;AAAA;AAAA,8CAY7CF,QAAQ,CAACR,OAAO,CAAC;AAAEW,cAAAA,KAAK;AAAP,aAAD,CAAR,CAZqC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA9B;AAAA,CAAnB;AAiBP,OAAO,IAAMG,MAAM,GAAG,SAATA,MAAS;AAAA,SAAM,kBAAMN,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAElBX,KAAK,CAACY,IAAN,CACJ,0DADI,CAFkB;;AAAA;AAKxBD,YAAAA,QAAQ,CAACL,UAAU,EAAX,CAAR;AALwB;AAAA;;AAAA;AAAA;AAAA;AAOxBY,YAAAA,OAAO,CAACJ,KAAR;;AAPwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAN;AAAA,CAAf;AAYP,eAAe,YAAsC;AAAA,MAA7BK,KAA6B,uEAArBZ,WAAqB;AAAA,MAARa,MAAQ;;AACnD,UAAQA,MAAM,CAACf,IAAf;AACE,SAAKJ,QAAL;AACE,aAAOmB,MAAM,CAAChB,IAAd;;AACF,SAAKF,WAAL;AACE,aAAOK,WAAP;;AACF;AACE,aAAOY,KAAP;AANJ;AAQD","sourcesContent":["import axios from 'axios';\n\n//action type\nconst GET_USER = 'GET_USER';\nconst REMOVE_USER = 'REMOVE_USER';\n\n//action creator\nconst getUser = user => ({ type: GET_USER, user });\nconst removeUser = () => ({ type: REMOVE_USER });\n\n//intial state\nconst defaultUser = {};\n\n//login auth thunk\nexport const loginAuth = (email, password) => async dispatch => {\n  try {\n    const { data } = await axios.post(\n      'https://shelter-in-pets-server.herokuapp.com/auth/login',\n      {\n        email,\n        password,\n      }\n    );\n    dispatch(getUser(data));\n  } catch (authError) {\n    return dispatch(getUser({ error: authError }));\n  }\n};\n\n//signup auth thunk\n\nexport const signupAuth = (email, password, zipcode) => async dispatch => {\n  try {\n    const { data } = await axios.post(\n      'https://shelter-in-pets-server.herokuapp.com/auth/signup',\n      {\n        email,\n        password,\n        zipcode,\n      }\n    );\n    dispatch(getUser(data));\n  } catch (authError) {\n    return dispatch(getUser({ error: authError }));\n  }\n};\n\n//logout thunk\nexport const logout = () => async dispatch => {\n  try {\n    await axios.post(\n      'https://shelter-in-pets-server.herokuapp.com/auth/logout'\n    );\n    dispatch(removeUser());\n  } catch (err) {\n    console.error(err);\n  }\n};\n\n//user reducer\nexport default function(state = defaultUser, action) {\n  switch (action.type) {\n    case GET_USER:\n      return action.user;\n    case REMOVE_USER:\n      return defaultUser;\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}