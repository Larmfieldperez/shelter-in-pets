{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from 'axios';\nvar GET_USER = 'GET_USER';\n\nvar getUser = function getUser(user) {\n  return {\n    type: GET_USER,\n    user: user\n  };\n};\n\nvar defaultUser = {};\nexport var loginAuth = function loginAuth(email, password) {\n  return function _callee(dispatch) {\n    var _ref, _data;\n\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(axios.post('/auth/login', {\n              email: email,\n              password: password\n            }));\n\n          case 3:\n            _ref = _context.sent;\n            _data = _ref.data;\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            return _context.abrupt(\"return\", dispatch(getUser({\n              error: _context.t0\n            })));\n\n          case 10:\n            try {\n              dispatch(getUser(data));\n            } catch (error) {\n              console.error(error);\n            }\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n};\nexport var signupAuth = function signupAuth(email, password, zipcode) {\n  return function _callee2(dispatch) {\n    var _ref2, _data2;\n\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(axios.post('/auth/signup', {\n              email: email,\n              password: password,\n              zipcode: zipcode\n            }));\n\n          case 3:\n            _ref2 = _context2.sent;\n            _data2 = _ref2.data;\n            console.log('data', _data2);\n            dispatch(getUser(_data2));\n            _context2.next = 13;\n            break;\n\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log('error', _context2.t0);\n            return _context2.abrupt(\"return\", dispatch(getUser({\n              error: _context2.t0\n            })));\n\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 9]], Promise);\n  };\n};\nexport default function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultUser;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_USER:\n      return action.user;\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/soniasusanto/Grace_Hopper_Program/GHP_Immersive/Senior_Phase/shelter-in-pets/client/store/user.js"],"names":["axios","GET_USER","getUser","user","type","defaultUser","loginAuth","email","password","dispatch","post","data","error","console","signupAuth","zipcode","log","state","action"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,IAAMC,QAAQ,GAAG,UAAjB;;AAGA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAAAC,IAAI;AAAA,SAAK;AAAEC,IAAAA,IAAI,EAAEH,QAAR;AAAkBE,IAAAA,IAAI,EAAJA;AAAlB,GAAL;AAAA,CAApB;;AAGA,IAAME,WAAW,GAAG,EAApB;AAGA,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,KAAD,EAAQC,QAAR;AAAA,SAAqB,iBAAMC,QAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEnBT,KAAK,CAACU,IAAN,CAAW,aAAX,EAA0B;AAAEH,cAAAA,KAAK,EAALA,KAAF;AAASC,cAAAA,QAAQ,EAARA;AAAT,aAA1B,CAFmB;;AAAA;AAAA;AAElCG,YAAAA,KAFkC,QAElCA,IAFkC;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,6CAInCF,QAAQ,CAACP,OAAO,CAAC;AAAEU,cAAAA,KAAK;AAAP,aAAD,CAAR,CAJ2B;;AAAA;AAM5C,gBAAI;AACFH,cAAAA,QAAQ,CAACP,OAAO,CAACS,IAAD,CAAR,CAAR;AACD,aAFD,CAEE,OAAOC,KAAP,EAAc;AACdC,cAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD;;AAV2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAArB;AAAA,CAAlB;AAeP,OAAO,IAAME,UAAU,GAAG,SAAbA,UAAa,CAACP,KAAD,EAAQC,QAAR,EAAkBO,OAAlB;AAAA,SAA8B,kBAAMN,QAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAE7BT,KAAK,CAACU,IAAN,CAAW,cAAX,EAA2B;AAChDH,cAAAA,KAAK,EAALA,KADgD;AAEhDC,cAAAA,QAAQ,EAARA,QAFgD;AAGhDO,cAAAA,OAAO,EAAPA;AAHgD,aAA3B,CAF6B;;AAAA;AAAA;AAE5CJ,YAAAA,MAF4C,SAE5CA,IAF4C;AAOpDE,YAAAA,OAAO,CAACG,GAAR,CAAY,MAAZ,EAAoBL,MAApB;AACAF,YAAAA,QAAQ,CAACP,OAAO,CAACS,MAAD,CAAR,CAAR;AARoD;AAAA;;AAAA;AAAA;AAAA;AAUpDE,YAAAA,OAAO,CAACG,GAAR,CAAY,OAAZ;AAVoD,8CAW7CP,QAAQ,CAACP,OAAO,CAAC;AAAEU,cAAAA,KAAK;AAAP,aAAD,CAAR,CAXqC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA9B;AAAA,CAAnB;AAqBP,eAAe,YAAsC;AAAA,MAA7BK,KAA6B,uEAArBZ,WAAqB;AAAA,MAARa,MAAQ;;AACnD,UAAQA,MAAM,CAACd,IAAf;AACE,SAAKH,QAAL;AACE,aAAOiB,MAAM,CAACf,IAAd;;AACF;AACE,aAAOc,KAAP;AAJJ;AAMD","sourcesContent":["import axios from 'axios';\n\n//action type\nconst GET_USER = 'GET_USER';\n\n//action creator\nconst getUser = user => ({ type: GET_USER, user });\n\n//intial state\nconst defaultUser = {};\n\n//login auth thunk\nexport const loginAuth = (email, password) => async dispatch => {\n  try {\n    const { data } = await axios.post('/auth/login', { email, password });\n  } catch (authError) {\n    return dispatch(getUser({ error: authError }));\n  }\n  try {\n    dispatch(getUser(data));\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n//signup auth thunk\n\nexport const signupAuth = (email, password, zipcode) => async dispatch => {\n  try {\n    const { data } = await axios.post('/auth/signup', {\n      email,\n      password,\n      zipcode,\n    });\n    console.log('data', data);\n    dispatch(getUser(data));\n  } catch (authError) {\n    console.log('error', authError);\n    return dispatch(getUser({ error: authError }));\n  }\n  // try {\n  //   dispatch(getUser(data));\n  // } catch (error) {\n  //   console.error(error);\n  // }\n};\n\n//user reducer\nexport default function(state = defaultUser, action) {\n  switch (action.type) {\n    case GET_USER:\n      return action.user;\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}